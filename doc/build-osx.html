<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>build-osx - Bitcoin Core Developer Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Bitcoin Core Developer Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="macos-build-guide"><a class="header" href="#macos-build-guide">macOS Build Guide</a></h1>
<p><strong>Updated for MacOS <a href="https://www.apple.com/macos/macos-sequoia/">15</a></strong></p>
<p>This guide describes how to build bitcoind, command-line utilities, and GUI on macOS.</p>
<h2 id="preparation"><a class="header" href="#preparation">Preparation</a></h2>
<p>The commands in this guide should be executed in a Terminal application.
macOS comes with a built-in Terminal located in:</p>
<pre><code class="language-bash">/Applications/Utilities/Terminal.app
</code></pre>
<h3 id="1-xcode-command-line-tools"><a class="header" href="#1-xcode-command-line-tools">1. Xcode Command Line Tools</a></h3>
<p>The Xcode Command Line Tools are a collection of build tools for macOS.
These tools must be installed in order to build Bitcoin Core from source.</p>
<p>To install, run the following command from your terminal:</p>
<pre><code class="language-bash">xcode-select --install
</code></pre>
<p>Upon running the command, you should see a popup appear.
Click on <code>Install</code> to continue the installation process.</p>
<h3 id="2-homebrew-package-manager"><a class="header" href="#2-homebrew-package-manager">2. Homebrew Package Manager</a></h3>
<p>Homebrew is a package manager for macOS that allows one to install packages from the command line easily.
While several package managers are available for macOS, this guide will focus on Homebrew as it is the most popular.
Since the examples in this guide which walk through the installation of a package will use Homebrew, it is recommended that you install it to follow along.
Otherwise, you can adapt the commands to your package manager of choice.</p>
<p>To install the Homebrew package manager, see: https://brew.sh</p>
<p>Note: If you run into issues while installing Homebrew or pulling packages, refer to <a href="https://docs.brew.sh/Troubleshooting">Homebrew's troubleshooting page</a>.</p>
<h3 id="3-install-required-dependencies"><a class="header" href="#3-install-required-dependencies">3. Install Required Dependencies</a></h3>
<p>The first step is to download the required dependencies.
These dependencies represent the packages required to get a barebones installation up and running.</p>
<p>See <a href="dependencies.html">dependencies.md</a> for a complete overview.</p>
<p>To install, run the following from your terminal:</p>
<pre><code class="language-bash">brew install cmake boost pkg-config libevent
</code></pre>
<h3 id="4-clone-bitcoin-repository"><a class="header" href="#4-clone-bitcoin-repository">4. Clone Bitcoin repository</a></h3>
<p><code>git</code> should already be installed by default on your system.
Now that all the required dependencies are installed, let's clone the Bitcoin Core repository to a directory.
All build scripts and commands will run from this directory.</p>
<pre><code class="language-bash">git clone https://github.com/bitcoin/bitcoin.git
</code></pre>
<h3 id="5-install-optional-dependencies"><a class="header" href="#5-install-optional-dependencies">5. Install Optional Dependencies</a></h3>
<h4 id="wallet-dependencies"><a class="header" href="#wallet-dependencies">Wallet Dependencies</a></h4>
<p>It is not necessary to build wallet functionality to run <code>bitcoind</code> or  <code>bitcoin-qt</code>.</p>
<h6 id="descriptor-wallet-support"><a class="header" href="#descriptor-wallet-support">Descriptor Wallet Support</a></h6>
<p><code>sqlite</code> is required to support for descriptor wallets.</p>
<p>macOS ships with a useable <code>sqlite</code> package, meaning you don't need to
install anything.</p>
<h6 id="legacy-wallet-support"><a class="header" href="#legacy-wallet-support">Legacy Wallet Support</a></h6>
<p><code>berkeley-db@4</code> is only required to support for legacy wallets.
Skip if you don't intend to use legacy wallets.</p>
<pre><code class="language-bash">brew install berkeley-db@4
</code></pre>
<hr />
<h4 id="gui-dependencies"><a class="header" href="#gui-dependencies">GUI Dependencies</a></h4>
<h6 id="qt"><a class="header" href="#qt">Qt</a></h6>
<p>Bitcoin Core includes a GUI built with the cross-platform Qt Framework. To compile the GUI, we need to install
Qt, libqrencode and pass <code>-DBUILD_GUI=ON</code>. Skip if you don't intend to use the GUI.</p>
<pre><code class="language-bash">brew install qt@5
</code></pre>
<p>Note: Building with Qt binaries downloaded from the Qt website is not officially supported.
See the notes in <a href="https://github.com/bitcoin/bitcoin/issues/7714">#7714</a>.</p>
<h6 id="libqrencode"><a class="header" href="#libqrencode">libqrencode</a></h6>
<p>The GUI will be able to encode addresses in QR codes unless this feature is explicitly disabled. To install libqrencode, run:</p>
<pre><code class="language-bash">brew install qrencode
</code></pre>
<p>Otherwise, if you don't need QR encoding support, you can pass <code>-DWITH_QRENCODE=OFF</code> to disable this feature.</p>
<hr />
<h4 id="zmq-dependencies"><a class="header" href="#zmq-dependencies">ZMQ Dependencies</a></h4>
<p>Support for ZMQ notifications requires the following dependency.
Skip if you do not need ZMQ functionality.</p>
<pre><code class="language-bash">brew install zeromq
</code></pre>
<p>Check out the <a href="#further-configuration">further configuration</a> section for more information.</p>
<p>For more information on ZMQ, see: <a href="zmq.html">zmq.md</a></p>
<hr />
<h4 id="test-suite-dependencies"><a class="header" href="#test-suite-dependencies">Test Suite Dependencies</a></h4>
<p>There is an included test suite that is useful for testing code changes when developing.
To run the test suite (recommended), you will need to have Python 3 installed:</p>
<pre><code class="language-bash">brew install python
</code></pre>
<hr />
<h4 id="deploy-dependencies"><a class="header" href="#deploy-dependencies">Deploy Dependencies</a></h4>
<p>You can <a href="#3-deploy-optional">deploy</a> a <code>.zip</code> containing the Bitcoin Core application.
It is required that you have <code>python</code> installed.</p>
<h2 id="building-bitcoin-core"><a class="header" href="#building-bitcoin-core">Building Bitcoin Core</a></h2>
<h3 id="1-configuration"><a class="header" href="#1-configuration">1. Configuration</a></h3>
<p>There are many ways to configure Bitcoin Core, here are a few common examples:</p>
<h5 id="wallet-bdb--sqlite-support-no-gui"><a class="header" href="#wallet-bdb--sqlite-support-no-gui">Wallet (BDB + SQlite) Support, No GUI:</a></h5>
<p>If <code>berkeley-db@4</code> or <code>sqlite</code> are not installed, this will throw an error.</p>
<pre><code class="language-bash">cmake -B build -DWITH_BDB=ON
</code></pre>
<h5 id="wallet-only-sqlite-and-gui-support"><a class="header" href="#wallet-only-sqlite-and-gui-support">Wallet (only SQlite) and GUI Support:</a></h5>
<p>This enables the GUI.
If <code>sqlite</code> or <code>qt</code> are not installed, this will throw an error.</p>
<pre><code class="language-bash">cmake -B build -DBUILD_GUI=ON
</code></pre>
<h5 id="no-wallet-or-gui"><a class="header" href="#no-wallet-or-gui">No Wallet or GUI</a></h5>
<pre><code class="language-bash">cmake -B build -DENABLE_WALLET=OFF
</code></pre>
<h5 id="further-configuration"><a class="header" href="#further-configuration">Further Configuration</a></h5>
<p>You may want to dig deeper into the configuration options to achieve your desired behavior.
Examine the output of the following command for a full list of configuration options:</p>
<pre><code class="language-bash">cmake -B build -LH
</code></pre>
<h3 id="2-compile"><a class="header" href="#2-compile">2. Compile</a></h3>
<p>After configuration, you are ready to compile.
Run the following in your terminal to compile Bitcoin Core:</p>
<pre><code class="language-bash">cmake --build build     # Use "-j N" here for N parallel jobs.
ctest --test-dir build  # Use "-j N" for N parallel tests. Some tests are disabled if Python 3 is not available.
</code></pre>
<h3 id="3-deploy-optional"><a class="header" href="#3-deploy-optional">3. Deploy (optional)</a></h3>
<p>You can also create a  <code>.zip</code> containing the <code>.app</code> bundle by running the following command:</p>
<pre><code class="language-bash">cmake --build build --target deploy
</code></pre>
<h2 id="running-bitcoin-core"><a class="header" href="#running-bitcoin-core">Running Bitcoin Core</a></h2>
<p>Bitcoin Core should now be available at <code>./build/src/bitcoind</code>.
If you compiled support for the GUI, it should be available at <code>./build/src/qt/bitcoin-qt</code>.</p>
<p>The first time you run <code>bitcoind</code> or <code>bitcoin-qt</code>, it will start downloading the blockchain.
This process could take many hours, or even days on slower than average systems.</p>
<p>By default, blockchain and wallet data files will be stored in:</p>
<pre><code class="language-bash">/Users/${USER}/Library/Application Support/Bitcoin/
</code></pre>
<p>Before running, you may create an empty configuration file:</p>
<pre><code class="language-shell">mkdir -p "/Users/${USER}/Library/Application Support/Bitcoin"

touch "/Users/${USER}/Library/Application Support/Bitcoin/bitcoin.conf"

chmod 600 "/Users/${USER}/Library/Application Support/Bitcoin/bitcoin.conf"
</code></pre>
<p>You can monitor the download process by looking at the debug.log file:</p>
<pre><code class="language-shell">tail -f $HOME/Library/Application\ Support/Bitcoin/debug.log
</code></pre>
<h2 id="other-commands"><a class="header" href="#other-commands">Other commands:</a></h2>
<pre><code class="language-shell">./build/src/bitcoind -daemon      # Starts the bitcoin daemon.
./build/src/bitcoin-cli --help    # Outputs a list of command-line options.
./build/src/bitcoin-cli help      # Outputs a list of RPC commands when the daemon is running.
./build/src/qt/bitcoin-qt -server # Starts the bitcoin-qt server mode, allows bitcoin-cli control
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../doc/build-openbsd.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../doc/build-unix.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../doc/build-openbsd.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../doc/build-unix.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
